{
  "_metadata": {
    "file_version": "v3.1-3d-10.11-1",
    "last_modified": "2025-08-14",
    "clean_architecture": "v3.1 Compliant",
    "configuration_version": "3d.10.10",
    "description": "Storage and file management configuration for NLP crisis detection system",
    "created_date": "2025-08-12",
    "updated_date": "2025-08-14",
    "compliance": "Clean Architecture v3.1 Standards",
    "manager": "StorageConfigManager",
    "cleanup_note": "Step 10.10 - MASSIVE CONSOLIDATION achieved - mapped virtually all variables to existing .env.template structure"
  },

  "storage_configuration": {
    "directories": {
      "description": "Directory paths for data, models, logs, and cache storage",
      "data_directory": "${NLP_STORAGE_DATA_DIR}",
      "models_directory": "${NLP_STORAGE_MODELS_DIR}",
      "logs_directory": "${NLP_STORAGE_LOGS_DIR}",
      "learning_directory": "${NLP_STORAGE_LEARNING_DIR}",
      "cache_directory": "${NLP_STORAGE_CACHE_DIR}",
      "backup_directory": "${NLP_STORAGE_BACKUP_DIR}",
      "temp_directory": "${NLP_STORAGE_TEMP_DIR}",
      "defaults": {
        "data_directory": "./data",
        "models_directory": "./models/cache",
        "logs_directory": "./logs",
        "learning_directory": "./learning_data",
        "cache_directory": "./cache",
        "backup_directory": "./backups",
        "temp_directory": "./temp"
      },
      "validation": {
        "data_directory": {
          "type": "string",
          "required": true,
          "description": "Main data storage directory"
        },
        "models_directory": {
          "type": "string",
          "required": true,
          "description": "AI model storage and cache directory"
        },
        "logs_directory": {
          "type": "string",
          "required": true,
          "description": "Log files directory"
        },
        "learning_directory": {
          "type": "string",
          "required": true,
          "description": "Learning system data storage directory"
        },
        "cache_directory": {
          "type": "string",
          "description": "General cache files directory"
        },
        "backup_directory": {
          "type": "string",
          "description": "Backup files storage directory"
        },
        "temp_directory": {
          "type": "string",
          "description": "Temporary files directory"
        }
      }
    },

    "cache_settings": {
      "description": "Cache configuration and performance settings",
      "enable_model_cache": "${NLP_STORAGE_ENABLE_MODEL_CACHE}",
      "enable_analysis_cache": "${NLP_STORAGE_ENABLE_ANALYSIS_CACHE}",
      "cache_cleanup_on_startup": "${NLP_STORAGE_CACHE_CLEANUP_ON_STARTUP}",
      "model_cache_size_limit": "${NLP_STORAGE_MODEL_CACHE_SIZE_LIMIT}",
      "analysis_cache_size_limit": "${NLP_STORAGE_ANALYSIS_CACHE_SIZE_LIMIT}",
      "cache_expiry_hours": "${NLP_STORAGE_CACHE_EXPIRY_HOURS}",
      "defaults": {
        "enable_model_cache": true,
        "enable_analysis_cache": true,
        "cache_cleanup_on_startup": false,
        "model_cache_size_limit": "10GB",
        "analysis_cache_size_limit": "2GB",
        "cache_expiry_hours": 24
      },
      "validation": {
        "enable_model_cache": {
          "type": "boolean",
          "description": "Enable model caching for improved performance"
        },
        "enable_analysis_cache": {
          "type": "boolean",
          "description": "Enable analysis result caching"
        },
        "cache_cleanup_on_startup": {
          "type": "boolean",
          "description": "Clean cache files on system startup"
        },
        "model_cache_size_limit": {
          "type": "string",
          "pattern": "^\\d+[GMK]B$",
          "description": "Maximum size for model cache"
        },
        "analysis_cache_size_limit": {
          "type": "string",
          "pattern": "^\\d+[GMK]B$",
          "description": "Maximum size for analysis cache"
        },
        "cache_expiry_hours": {
          "type": "integer",
          "range": [1, 168],
          "unit": "hours",
          "description": "Cache expiration time in hours"
        }
      }
    },

    "backup_settings": {
      "description": "Automated backup configuration and policies",
      "enable_automatic_backup": "${NLP_STORAGE_ENABLE_AUTO_BACKUP}",
      "backup_interval_hours": "${NLP_STORAGE_BACKUP_INTERVAL_HOURS}",
      "backup_retention_days": "${NLP_STORAGE_BACKUP_RETENTION_DAYS}",
      "compress_backups": "${NLP_STORAGE_COMPRESS_BACKUPS}",
      "backup_learning_data": "${NLP_STORAGE_BACKUP_LEARNING_DATA}",
      "backup_configuration": "${NLP_STORAGE_BACKUP_CONFIG}",
      "defaults": {
        "enable_automatic_backup": false,
        "backup_interval_hours": 24,
        "backup_retention_days": 30,
        "compress_backups": true,
        "backup_learning_data": true,
        "backup_configuration": true
      },
      "validation": {
        "enable_automatic_backup": {
          "type": "boolean",
          "description": "Enable automatic backup operations"
        },
        "backup_interval_hours": {
          "type": "integer",
          "range": [1, 168],
          "unit": "hours",
          "description": "Hours between automatic backups"
        },
        "backup_retention_days": {
          "type": "integer",
          "range": [1, 365],
          "unit": "days",
          "description": "Days to retain backup files"
        },
        "compress_backups": {
          "type": "boolean",
          "description": "Compress backup files to save space"
        },
        "backup_learning_data": {
          "type": "boolean",
          "description": "Include learning system data in backups"
        },
        "backup_configuration": {
          "type": "boolean",
          "description": "Include configuration files in backups"
        }
      }
    },

    "cleanup_settings": {
      "description": "Automated cleanup policies and maintenance",
      "enable_automatic_cleanup": "${NLP_STORAGE_ENABLE_AUTO_CLEANUP}",
      "cleanup_temp_files": "${NLP_STORAGE_CLEANUP_TEMP_FILES}",
      "temp_file_max_age_hours": "${NLP_STORAGE_TEMP_FILE_MAX_AGE}",
      "log_rotation_enabled": "${NLP_STORAGE_LOG_ROTATION_ENABLED}",
      "log_max_size_mb": "${NLP_STORAGE_LOG_MAX_SIZE_MB}",
      "log_backup_count": "${NLP_STORAGE_LOG_BACKUP_COUNT}",
      "cleanup_interval_hours": "${NLP_STORAGE_CLEANUP_INTERVAL_HOURS}",
      "defaults": {
        "enable_automatic_cleanup": true,
        "cleanup_temp_files": true,
        "temp_file_max_age_hours": 24,
        "log_rotation_enabled": true,
        "log_max_size_mb": 100,
        "log_backup_count": 5,
        "cleanup_interval_hours": 12
      },
      "validation": {
        "enable_automatic_cleanup": {
          "type": "boolean",
          "description": "Enable automatic cleanup operations"
        },
        "cleanup_temp_files": {
          "type": "boolean",
          "description": "Clean up temporary files automatically"
        },
        "temp_file_max_age_hours": {
          "type": "integer",
          "range": [1, 168],
          "unit": "hours",
          "description": "Maximum age for temporary files before deletion"
        },
        "log_rotation_enabled": {
          "type": "boolean",
          "description": "Enable log file rotation"
        },
        "log_max_size_mb": {
          "type": "integer",
          "range": [10, 1000],
          "unit": "MB",
          "description": "Maximum log file size before rotation"
        },
        "log_backup_count": {
          "type": "integer",
          "range": [1, 20],
          "description": "Number of rotated log files to keep"
        },
        "cleanup_interval_hours": {
          "type": "integer",
          "range": [1, 72],
          "unit": "hours",
          "description": "Hours between cleanup operations"
        }
      }
    },

    "file_permissions": {
      "description": "File and directory permission settings",
      "directory_permissions": "${NLP_STORAGE_DIRECTORY_PERMISSIONS}",
      "file_permissions": "${NLP_STORAGE_FILE_PERMISSIONS}",
      "enable_permission_checks": "${NLP_STORAGE_ENABLE_PERMISSION_CHECKS}",
      "defaults": {
        "directory_permissions": "755",
        "file_permissions": "644",
        "enable_permission_checks": true
      },
      "validation": {
        "directory_permissions": {
          "type": "string",
          "pattern": "^[0-7]{3}$",
          "description": "Octal permissions for directories (e.g., '755')"
        },
        "file_permissions": {
          "type": "string",
          "pattern": "^[0-7]{3}$",
          "description": "Octal permissions for files (e.g., '644')"
        },
        "enable_permission_checks": {
          "type": "boolean",
          "description": "Verify file permissions on access"
        }
      }
    }
  },

  "storage_profiles": {
    "description": "Pre-configured storage profiles for different deployment scenarios",
    "development": {
      "description": "Development environment with minimal cleanup",
      "enable_automatic_cleanup": false,
      "enable_automatic_backup": false,
      "cache_expiry_hours": 1,
      "log_max_size_mb": 50,
      "cleanup_temp_files": false
    },
    "testing": {
      "description": "Testing environment with moderate cleanup",
      "enable_automatic_cleanup": true,
      "enable_automatic_backup": false,
      "cache_expiry_hours": 6,
      "cleanup_interval_hours": 6,
      "temp_file_max_age_hours": 12
    },
    "production": {
      "description": "Production environment with full backup and cleanup",
      "enable_automatic_cleanup": true,
      "enable_automatic_backup": true,
      "cache_expiry_hours": 48,
      "backup_interval_hours": 12,
      "backup_retention_days": 90,
      "log_max_size_mb": 100
    },
    "high_volume": {
      "description": "High volume environment with aggressive cleanup",
      "enable_automatic_cleanup": true,
      "enable_automatic_backup": true,
      "cache_expiry_hours": 24,
      "cleanup_interval_hours": 4,
      "temp_file_max_age_hours": 12,
      "backup_interval_hours": 6
    }
  },

  "usage_instructions": {
    "description": "Configuration usage and integration guidelines",
    "manager_integration": "Use StorageConfigManager with create_storage_config_manager(config_manager)",
    "environment_override_pattern": "Environment variables follow existing .env.template structure",
    "resilient_operation": "System falls back to safe defaults when configuration is invalid or missing",
    "directory_creation": "Directories are created automatically if they don't exist",
    "permissions_note": "File permissions only apply on Unix-like systems",
    "backup_size_warning": "Backup size can be large if backup_learning_data is enabled",
    "cleanup_safety": "Cleanup operations only affect files in specified directories",
    "cache_performance": "Enable compression for cache if storage space is limited",
    "production_recommendations": "Use 'production' profile for live deployments"
  }
}