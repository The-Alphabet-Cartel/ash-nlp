<!-- ash-nlp/docs/v3.1/phase/3/d/step_10.11.md -->
<!--
Documentation for Phase 3d, Step 10.10 for Ash-NLP Service v3.1
FILE VERSION: v3.1-3d-10.11-2
LAST MODIFIED: 2025-08-14
PHASE: 3d, Step 10.11
CLEAN ARCHITECTURE: v3.1 Compliant
MIGRATION STATUS: In Progress
-->
# Step 10.11: Final `.env.template` Clean Up

**Objective**: Clean up `.env.template` file to reflect Clean Architecture Charter's Rule #7 compliance

**Scope**
- Add current unresolved variables found at startup
  - Based on Step 10.10 findings
- Validate that all variables in `.env.template` are actually used
  - Remove unused variables from the ecosystem
- Consolidate obviously duplicate / functionally similar environment variables
  - If an already created `GLOBAL_*` variable can do the job, use that instead of an `NLP_*` variable
    - Do not create new `GLOBAL_*` variables!
  - Modify the associated JSON configuration and manager file(s) to reflect variable consolidation
- Ensure proper organization and documentation
  - Consolidate variables into logical function categories with comments detailing which manager controls that category
  - Create a final, human readable, `.env.template` with comments detailing a variable's function

---

# Current Unresolved Variables After Step 10.10

*These variables need to be added to `.env.template`*

- `NLP_ANALYSIS_ADVANCED_PATTERN_BOOST`
- `NLP_ANALYSIS_ADVANCED_MODEL_BOOST`
- `NLP_ANALYSIS_ADVANCED_CONTEXT_WEIGHT`
- `NLP_ANALYSIS_ADVANCED_TEMPORAL_MULTIPLIER`
- `NLP_ANALYSIS_ADVANCED_COMMUNITY_BOOST`
- `NLP_EXPERIMENTAL_ADVANCED_CONTEXT`
- `NLP_EXPERIMENTAL_COMMUNITY_VOCAB`
- `NLP_EXPERIMENTAL_TEMPORAL_PATTERNS`
- `NLP_EXPERIMENTAL_MULTI_LANGUAGE`
- `NLP_ANALYSIS_LEARNING_ENABLED`
- `NLP_ANALYSIS_LEARNING_MIN_GLOBAL_SENSITIVITY`
- `NLP_ANALYSIS_LEARNING_MAX_GLOBAL_SENSITIVITY`
- `NLP_ANALYSIS_LEARNING_HIGH_SEVERITY`
- `NLP_ANALYSIS_LEARNING_MEDIUM_SEVERITY`
- `NLP_ANALYSIS_LEARNING_LOW_SEVERITY`
- `NLP_TEMPORAL_INDICATORS_ENABLED`
- `NLP_TEMPORAL_PRIORITY_LEVEL`
- `NLP_TEMPORAL_ESCALATION_ENABLED`
- `NLP_TEMPORAL_STAFF_NOTIFICATION_REQUIRED`
- `NLP_TEMPORAL_IMMEDIATE_CRISIS_BOOST`
- `NLP_TEMPORAL_IMMEDIATE_BOOST_FACTOR`
- `NLP_TEMPORAL_IMMEDIATE_ESCALATION_LEVEL`
- `NLP_TEMPORAL_IMMEDIATE_WEIGHT`
- `NLP_TEMPORAL_IMMEDIATE_AUTO_ESCALATE`
- `NLP_TEMPORAL_IMMEDIATE_STAFF_ALERT`
- `NLP_TEMPORAL_RECENT_CRISIS_BOOST`
- `NLP_TEMPORAL_RECENT_BOOST_FACTOR`
- `NLP_TEMPORAL_RECENT_ESCALATION_LEVEL`
- `NLP_TEMPORAL_RECENT_WEIGHT`
- `NLP_TEMPORAL_RECENT_AUTO_ESCALATE`
- `NLP_TEMPORAL_RECENT_STAFF_ALERT`
- `NLP_TEMPORAL_ONGOING_CRISIS_BOOST`
- `NLP_TEMPORAL_ONGOING_BOOST_FACTOR`
- `NLP_TEMPORAL_ONGOING_ESCALATION_LEVEL`
- `NLP_TEMPORAL_ONGOING_WEIGHT`
- `NLP_TEMPORAL_ONGOING_AUTO_ESCALATE`
- `NLP_TEMPORAL_ONGOING_STAFF_ALERT`
- `NLP_TEMPORAL_FUTURE_FEAR_CRISIS_BOOST`
- `NLP_TEMPORAL_FUTURE_FEAR_BOOST_FACTOR`
- `NLP_TEMPORAL_FUTURE_FEAR_ESCALATION_LEVEL`
- `NLP_TEMPORAL_FUTURE_FEAR_WEIGHT`
- `NLP_TEMPORAL_FUTURE_FEAR_AUTO_ESCALATE`
- `NLP_TEMPORAL_FUTURE_FEAR_STAFF_ALERT`
- `NLP_TEMPORAL_ESCALATION_CRISIS_BOOST`
- `NLP_TEMPORAL_ESCALATION_BOOST_FACTOR`
- `NLP_TEMPORAL_ESCALATION_ESCALATION_LEVEL`
- `NLP_TEMPORAL_ESCALATION_WEIGHT`
- `NLP_TEMPORAL_ESCALATION_AUTO_ESCALATE`
- `NLP_TEMPORAL_ESCALATION_STAFF_ALERT`
- `NLP_TEMPORAL_IMMEDIATE_PATTERNS`
- `NLP_TEMPORAL_STAFF_NOTIFICATION_PATTERNS`
- `NLP_TEMPORAL_AUTO_ESCALATION_THRESHOLD`
- `NLP_TEMPORAL_MULTIPLE_HANDLING`
- `NLP_TEMPORAL_MAX_BOOST`
- `NLP_TEMPORAL_CONTEXT_WINDOW`
- `NLP_TEMPORAL_REQUIRE_CRISIS_CONTEXT`
- `NLP_TEMPORAL_NEGATION_CHECK`
- `NLP_TEMPORAL_MULTIPLE_MATCHES`
- `NLP_TEMPORAL_FALLBACK_BEHAVIOR`
- `NLP_IDENTITY_BOOST_FACTOR`
- `NLP_EXPERIENCE_BOOST_FACTOR`
- `NLP_COMMUNITY_SUPPORT_BOOST`
- `NLP_STRUGGLE_BOOST_FACTOR`
- `NLP_IDENTITY_PANIC_WEIGHT`
- `NLP_QUESTIONING_WEIGHT`
- `NLP_HATE_CRIME_WEIGHT`
- `NLP_CONVERSION_THERAPY_WEIGHT`
- `NLP_FEATURE_CORE_ENSEMBLE_ANALYSIS`
- `NLP_FEATURE_CORE_PATTERN_INTEGRATION`
- `NLP_FEATURE_CORE_STAFF_REVIEW_LOGIC`
- `NLP_FEATURE_CORE_SAFETY_CONTROLS`
- `NLP_FEATURE_ANALYSIS_PATTERN_ANALYSIS`
- `NLP_FEATURE_ANALYSIS_SEMANTIC_ANALYSIS`
- `NLP_FEATURE_ANALYSIS_CONTEXT_ANALYSIS`
- `NLP_FEATURE_ANALYSIS_PHRASE_EXTRACTION`
- `NLP_FEATURE_ANALYSIS_PARALLEL_PROCESSING`
- `NLP_FEATURE_LEARNING_THRESHOLD_LEARNING`
- `NLP_FEATURE_LEARNING_PATTERN_LEARNING`
- `NLP_FEATURE_DEBUG_DETAILED_LOGGING`
- `NLP_FEATURE_DEBUG_PERFORMANCE_METRICS`
- `NLP_FEATURE_DEBUG_RELOAD_ON_CHANGES`
- `NLP_FEATURE_DEBUG_FLIP_SENTIMENT_LOGIC`
- `NLP_LOG_FILE`
- `NLP_LOGS_DIR`
- `NLP_MODELS_DIR`
- `NLP_MODEL_DEPRESSION_ENABLED`
- `NLP_MODEL_SENTIMENT_ENABLED}`
- `NLP_MODEL_DISTRESS_ENABLED`
- `NLP_MODEL_ENSEMBLE_MODE`
- `NLP_MODEL_ENSEMBLE_REQUIRE_ALL_MODELS`
- `NLP_MODEL_ENSEMBLE_FALLBACK_MODE`
- `NLP_MODEL_ENSEMBLE_CONFIDENCE_THRESHOLD`
- `NLP_MODEL_HARDWARE_DEVICE`
- `NLP_MODEL_HARDWARE_DEVICE_MAP`
- `NLP_MODEL_HARDWARE_LOAD_IN_8BIT`
- `NLP_MODEL_HARDWARE_LOAD_IN_4BIT`
- `NLP_MODEL_HARDWARE_TORCH_DTYPE`
- `NLP_MODEL_HARDWARE_MAX_MEMORY`
- `NLP_MODEL_HARDWARE_OFFLOAD_FOLDER`
- `NLP_REQUEST_TIMEOUT`
- `NLP_PERFORMANCE_ANALYSIS_RETRY_ATTEMPTS`
- `NLP_PERFORMANCE_ANALYSIS_ENABLE_TIMEOUT`
- `NLP_PERFORMANCE_ANALYSIS_BATCH_SIZE`
- `NLP_PERFORMANCE_SERVER_MAX_WORKERS`
- `NLP_PERFORMANCE_SERVER_WORKER_TIMEOUT`
- `NLP_REQUEST_TIMEOUT`
- `NLP_MAX_CONCURRENT_REQUESTS`
- `NLP_PERFORMANCE_SERVER_WORKERS`
- `NLP_PERFORMANCE_MODEL_DEVICE`
- `NLP_PERFORMANCE_MODEL_DEVICE_MAP`
- `NLP_PERFORMANCE_MODEL_LOAD_IN_8BIT`
- `NLP_PERFORMANCE_MODEL_LOAD_IN_4BIT`
- `NLP_PERFORMANCE_MODEL_MAX_MEMORY`
- `NLP_PERFORMANCE_MODEL_OFFLOAD_FOLDER`
- `NLP_MAX_REQUESTS_PER_MINUTE`
- `NLP_MAX_REQUESTS_PER_HOUR`
- `NLP_PERFORMANCE_RATE_LIMITING_RATE_LIMIT_BURST`
- `NLP_SERVER_APPLICATION_DEBUG_MODE`
- `NLP_SERVER_APPLICATION_WORKERS`
- `NLP_SERVER_APPLICATION_RELOAD_ON_CHANGES`
- `NLP_SERVER_APPLICATION_ACCESS_LOG`
- `NLP_SERVER_APPLICATION_ERROR_LOG`
- `NLP_MAX_CONCURRENT_REQUESTS`
- `NLP_REQUEST_TIMEOUT`
- `NLP_SERVER_PERFORMANCE_WORKER_TIMEOUT`
- `NLP_SERVER_PERFORMANCE_KEEP_ALIVE_TIMEOUT`
- `NLP_SERVER_PERFORMANCE_MAX_REQUEST_SIZE`
- `NLP_SERVER_SECURITY_RATE_LIMIT_ENABLE`
- `NLP_MAX_REQUESTS_PER_MINUTE`
- `NLP_MAX_REQUESTS_PER_HOUR`
- `NLP_SERVER_SECURITY_CORS_ENABLE`
- `NLP_SERVER_SECURITY_CORS_ALLOWED_ORIGINS`
- `NLP_SERVER_SECURITY_CORS_ALLOWED_METHODS`
- `NLP_SERVER_SECURITY_CORS_ALLOWED_HEADERS`
- `NLP_DATA_DIR`
- `NLP_MODELS_DIR`
- `NLP_LOGS_DIR`
- `NLP_LEARNING_DATA_DIR`
- `NLP_STORAGE_CLEANUP_INTERVAL_HOURS`
- `NLP_STORAGE_DIRECTORY_PERMISSIONS`
- `NLP_STORAGE_FILE_PERMISSIONS`
- `NLP_STORAGE_ENABLE_PERMISSION_CHECKS`
- `NLP_STAFF_REVIEW_CONSENSUS_GAP_DETECTION`
- `NLP_STAFF_REVIEW_CONSENSUS_PATTERN_MISMATCH`
- `NLP_STAFF_REVIEW_MAJORITY_GAP_DETECTION`
- `NLP_STAFF_REVIEW_MAJORITY_PATTERN_MISMATCH`
- `NLP_STAFF_REVIEW_WEIGHTED_GAP_DETECTION`
- `NLP_STAFF_REVIEW_WEIGHTED_PATTERN_MISMATCH`
- `NLP_LEARNING_SYSTEM_FEEDBACK_WEIGHT`
- `NLP_LEARNING_SYSTEM_ADAPTATION_RATE`
- `NLP_LEARNING_SYSTEM_CONFIDENCE_THRESHOLD`
- `NLP_LEARNING_SYSTEM_PATTERN_LEARNING_ENABLED`
- `NLP_LEARNING_SYSTEM_THRESHOLD_ADJUSTMENT_LIMIT`
- `NLP_GAP_DETECTION_SENSITIVITY_THRESHOLD`
- `NLP_GAP_DETECTION_AUTO_ESCALATION`
- `NLP_GAP_DETECTION_MAX_CONFIDENCE_SPREAD`
- `NLP_GAP_DETECTION_MIN_AGREEMENT_SCORE`
- `NLP_LABEL_CRISIS_HIGH_CRISIS`
- `NLP_LABEL_CRISIS_MEDIUM_CRISIS`
- `NLP_LABEL_CRISIS_LOW_CRISIS`
- `NLP_LABEL_CRISIS_NO_CRISIS`
- `NLP_LABEL_SENTIMENT_POSITIVE`
- `NLP_LABEL_SENTIMENT_NEGATIVE`
- `NLP_LABEL_SENTIMENT_NEUTRAL`
- `NLP_LABEL_EMOTION_JOY`
- `NLP_LABEL_EMOTION_SADNESS`
- `NLP_LABEL_EMOTION_ANGER`
- `NLP_LABEL_EMOTION_FEAR`
- `NLP_LABEL_EMOTION_SURPRISE`
- `NLP_LABEL_EMOTION_DISGUST`
- `NLP_LABEL_EMOTION_LOVE`
- `NLP_LABEL_MENTAL_HEALTH_DEPRESSION_RISK`
- `NLP_LABEL_MENTAL_HEALTH_ANXIETY_RISK`
- `NLP_LABEL_MENTAL_HEALTH_SUICIDAL_IDEATION`
- `NLP_LABEL_MENTAL_HEALTH_SELF_HARM_RISK`
- `NLP_LABEL_MENTAL_HEALTH_SUBSTANCE_ABUSE`
- `NLP_LABEL_MENTAL_HEALTH_EATING_DISORDER`
- `NLP_LABEL_MENTAL_HEALTH_TRAUMA_INDICATORS`
- `NLP_LABEL_COMMUNITY_IDENTITY_CRISIS`
- `NLP_LABEL_COMMUNITY_DISCRIMINATION_STRESS`
- `NLP_LABEL_COMMUNITY_TRANSITION_ANXIETY`
- `NLP_LABEL_COMMUNITY_FAMILY_REJECTION`
- `NLP_LABEL_COMMUNITY_SOCIAL_ISOLATION`
- `NLP_LABEL_COMMUNITY_COMING_OUT_STRESS`
- `NLP_LABEL_MAPPING_ENABLE_LABEL_SWITCHING`
- `NLP_LABEL_MAPPING_DEFAULT_LABEL_SET`
- `NLP_LABEL_MAPPING_FALLBACK_BEHAVIOR`
- `NLP_LABEL_MAPPING_CASE_SENSITIVE`
- `NLP_LABEL_MAPPING_NORMALIZE_LABELS`
- `NLP_LABEL_ZERO_SHOT_HYPOTHESIS_TEMPLATE`
- `NLP_LABEL_ZERO_SHOT_MULTI_LABEL`
- `NLP_LABEL_ZERO_SHOT_CONFIDENCE_THRESHOLD`
- `NLP_LABEL_ZERO_SHOT_MAX_LABELS`
- `NLP_LABEL_ZERO_SHOT_NORMALIZE_SCORES`

---

# Remove These Variables

*They are not used for the NLP server, I'm not even sure when they were added ...*

- `NLP_SERVER_NETWORK_ENABLE_SSL`
- `NLP_SERVER_NETWORK_SSL_CERT_PATH`
- `NLP_SERVER_NETWORK_SSL_KEY_PATH`
